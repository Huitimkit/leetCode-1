<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Find All Numbers Disappeared in an Array</title>
</head>
<body>
	<script type="text/javascript">
		/*
			Given an array of integers where 1 ≤ a[i] ≤ n (n = size of array), some elements appear twice and others appear once.

			Find all the elements of [1, n] inclusive that do not appear in this array.

			Could you do it without extra space and in O(n) runtime? You may assume the returned list does not count as extra space.

			Example:

			Input:
			[4,3,2,7,8,2,3,1]

			Output:
			[5,6]
		 */
		/**
		 * @param {number[]} nums
		 * @return {number[]}
		 */
		var findDisappearedNumbers = function(nums) {
		    var arr = [];
		    //这种解法的思路是，对于每个数字nums[i]，如果其对应的nums[nums[i] - 1]是正数，我们就赋值为其相反数(表明這個位置上已經有數了)
		    for(var i = 0, len = nums.length; i < len; i++){
		        var index =  Math.abs(nums[i]) - 1;
		        if(nums[index] > 0){
		           nums[index] = -nums[index];
		        }
		    }
		    for(i = 0; i < len; i++){
		        if(nums[i] > 0){
		            arr.push(i + 1);
		        }
		    }
		    return arr;
		};
		/**
		 * @param {number[]} nums
		 * @return {number[]}
		 */
		var findDisappearedNumbers = function(nums) {
		    var arr = [];
		    //这种解法的思路是，把每个数字放到正确的位置上)
		    for(var i = 0, len = nums.length; i < len; i++){
		        var idx = nums[i] - 1;
		        if(nums[idx] !== nums[i]){
		            var middle = nums[idx];
		            nums[idx] = nums[i];
		            nums[i] = middle;
		            //注意交换过来之后，i位置上的数不在正确位置上，所以要重复交换
		            i--;
		        }
		    }
		    for(i = 0; i < len; i++){
		        if(nums[i] !== i + 1){
		            arr.push(i + 1);
		        }
		    }
		    return arr;
		};
	</script>
</body>
</html>